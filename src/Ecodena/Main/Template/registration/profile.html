{% extends "base.html" %}
{% block title %}
	{% if targetuser %}
	Profile - {{ targetuser }}
	{% else %}
	Profile {{ user }}
	{% endif %}
{% endblock %}

{% block content %}
    
	<div class="profile-pic-box">
    <img src="{{ STATIC_URL }}img/Troll_face.png" width="224px" height="220px" />
    </div>
	<div class="profilebox">
    	<span class="profile-page-username-font"> {{user.first_name|upper}} {{user.last_name|upper}}
		<span style="display:inline"><form action="/profile/edit/"><input type="submit"  class="submitButton editprofilebutton" id="commentbutton" value="Edit Profile" > </form></span>   	
    	</span>
    	
        <div class="profile-header">
        	<div class="about-user active" onclick='changeActive(this,".profilebox .user-info")'><span> BasicInfo</span>
            </div>
            <div class="badges" onclick='changeActive(this,".profilebox .badge-info")'> <span> PersonalInfo</span>
            </div>
            <div class="question" onclick='changeActive(this,".profilebox .question-info")'> <span style="padding-left:13px;"> Questions</span>
            </div>
            <script>
            	function changeActive(elem,id)
                {
                	$(".profile-header .active").removeClass("active");
                    $(elem).addClass("active");
					$(".profilebox .active-desc").removeClass("active-desc");
					$(id).addClass("active-desc");
                }
            </script>
        </div>
        <div class="user-info active-desc">
        <span> Username <span style="padding-left:40px">:{{user.username}}</span></span><br /><br />
        <span> Email</span><span style="padding-left:84px">:{{user.email}}</span><br /><br />
        <span> Name<span style="padding-left:84px">:{{user.first_name}} {{user.last_name}}</span></span><br /><br />
      	<table border="1px" style="float:right">
			<tr>
			<th>Total Attempts</th>
			<th>Correct Attempts</th>
			<th>Wrong Answers</th>
			<th>Compile Error</th>
			<th>Runtime Error</th>
			<th>Time Limit Exceeded</th>
			<th>Memory Limit Exceeded</th>
			</tr>
			<tr>
			<td style="padding-left:30px">{{countAttempt}}</td>
			<td style="padding-left:30px">{{countCorrect}}</td>
			<td style="padding-left:30px">{{countWrongAnswer}}</td>
			<td style="padding-left:30px">{{countCompileError}}</td>
			<td style="padding-left:30px">{{countRunTimeError}}</td>
			<td style="padding-left:50px">{{countTimeLimitExceeded}}</td>
			<td style="padding-left:55px">{{countMemoryLimitExceeded}}</td>			
			</tr>
			</table>
        </div>
        <div class="badge-info">
			<span> Name<span style="padding-left:40px">:{{user.first_name}} {{user.last_name}}</span></span><br /><br />
        <span> DOB<span style="padding-left:50px">:{{profile.dob}}</span></span><br /><br />
        {%if profile.gender == 0%}
        <span> Gender<span style="padding-left:30px">:Male</span></span><br /><br />
        {%else%}
        <span> Gender<span style="padding-left:30px">:Female</span></span><br /><br />
        {%endif%}
        <span> Address<span style="padding-left:25px">:{{profile.address}}</span></span><br /><br />        
        </div>
        <div class="question-info">
        <span>Questions Attempted</span>
        	<div class="questionbox">
			<table style="padding:5px" >
			{%for questionTit in questionTitle%}
			<tr><td style="padding:2px"><a href="#" style="color:#8ec1da">{{questionTit}}</a></td></tr>			
			<!--<tr><td><span style="color:#ae0000">Status:</span> <a style="color:#000">{{attempt.status_f}}</a><span style="color:#ae0000"> Error Report:</span><a style="color:#000">{{attempt.errorReportID.errorType_f}}</a></td>-->			
			</tr>	
			{%endfor%}
				
			</table>        	
        	</div>
        </div> 
	</div>     
{% endblock %}
